
To build this updatecenter2 code, you first need to download the 
updatecenter2 code from :

svn svn checkout https://updatecenter2.dev.java.net/svn/updatecenter2/trunk updatecenter2 --username username


Then you'll need to build it...

cd {whereever updatecenter2 is}/project
ant all

Lots of output, look for success message.

(or you could just build it in Netbeans - it comes with a project definition)



Next edit bin/makepkgs, and add UCHOME to point to the location of the 
updatecenter2 codebase.


Now, build the repository files:
(only works on linux, you'll need to either do it manually on windows or 
update the build.xml file - if you do, check in the changes! Also, note 
that you need python installed.) 

cd {mojarra-sources-home}
ant updatecenter2
cd updatecenter2
ant updatecenter2.main
ant updatecenter2.repo

This will create a repository with the latest SNAPSHOT file.

To test:

pkg.depotd -d repo -p 10000 & 

Now you have you own repository server running on port 10000.  To add this repository to your Glassfish image, you can either using the updatetool GUI (click on File|Image Properties, then click Add) or use the pkg CLI:

bin/pkg set-authority -O http://yourhost:10000/ testrepo
bin/pkg refresh

The refresh command is need to get the catalog from your testrepo downloaded.

Then, to install your package, either use updatetool (you should see your package listed in the Available Add-ons panel after clicking the Refresh button), or the pkg CLI:

bin/pkg install yourpkg

where "yourpkg" is the name of your package. 


To push this to the public repo, contact Terena.
