<?xml version="1.0"?>

<!--
 Copyright 2003 Sun Microsystems, Inc. All rights reserved.
 SUN PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.
-->

<!DOCTYPE faces-config PUBLIC
  "-//Sun Microsystems, Inc.//DTD JavaServer Faces Config 1.0//EN"
  "http://java.sun.com/dtd/web-facesconfig_1_0.dtd">

<faces-config>

<navigation-rule> 
  <description> 
  APPLICATION WIDE NAVIGATION HANDLING 
  </description> 
  <from-tree-id> * </from-tree-id> 
  <navigation-case> 
    <description> 
      Assume there is a Logout button on every page that 
      invokes the logout Action. 
    </description> 
    <display-name>Generic Logout Button</display-name> 
    <from-action-ref>userBean.logout</from-action-ref> 
    <to-tree-id>/logout.jsp</to-tree-id> 
  </navigation-case> 
<!-- Handle a generic error outcome from any Action --> 
  <navigation-case> 
    <description> 
      Handle a generic error outcome that might be returned 
      by any application Action. 
    </description> 
    <display-name>Generic Error Outcome</display-name> 
    <from-outcome>loginRequired</from-outcome> 
    <to-tree-id>/must-login-first.jsp</to-tree-id> 
  </navigation-case> 
</navigation-rule> 

<navigation-rule>
  <description>
    LOGIN PAGE NAVIGATION HANDLING
  </description>
  <from-tree-id> /login.jsp </from-tree-id>
  <navigation-case>
    <description>
      Handle case where login succeeded.
    </description>
    <display-name>Successful Login</display-name>
    <from-action-ref>userBean.login</from-action-ref>
    <from-outcome>success</from-outcome>
    <to-tree-id>/home.jsp</to-tree-id>
  </navigation-case>
  <navigation-case>
    <description>
      User registration for a new user succeeded.
    </description>
    <display-name>Successful New User Registration</display-name>
    <from-action-ref>userBean.register</from-action-ref>
    <from-outcome>success</from-outcome>
    <to-tree-id>/welcome.jsp</to-tree-id>
  </navigation-case>
  <navigation-case>
    <description>
      User registration for a new user failed because of a
      duplicate username.
    </description>
    <display-name>Failed New User Registration</display-name>
    <from-action-ref>userBean.register</from-action-ref>
    <from-outcome>duplicateUserName</from-outcome>
    <to-tree-id>/try-another-name.jsp</to-tree-id>
  </navigation-case>
</navigation-rule>

<navigation-rule>
  <description>
    Assume there is a search form on every page. These navigation
    cases get merged with the application-wide rules above because
    they use the same from-tree-id pattern. The same thing would
    also happen if from-tree-id was omitted here, because that is
    equivalent to a matching pattern of *.
  </description>
  <from-tree-id> * </from-tree-id>
  <navigation-case>
    <display-name>Search Form Success</display-name>
    <from-action-ref>searchForm.go</from-action-ref>
    <from-outcome>success</from-outcome>
    <to-tree-id>/search-results.jsp</to-tree-id>
  </navigation-case>
  <navigation-case>
    <display-name>Search Form Failure</display-name>
    <from-action-ref>searchForm.go</from-action-ref>
    <to-tree-id>/search-problem.jsp</to-tree-id>
  </navigation-case>
</navigation-rule>

<navigation-rule>
  <description>
    Searching works slightly differently in part of the site.
  </description>
  <from-tree-id> /movies/* </from-tree-id>
  <navigation-case>
    <display-name>Search Form Success</display-name>
    <from-action-ref>searchForm.go</from-action-ref>
    <from-outcome>success</from-outcome>
    <to-tree-id>/movie-search-results.jsp</to-tree-id>
  </navigation-case>
  <navigation-case>
    <display-name>Search Form Failure</display-name>
    <from-action-ref>searchForm.go</from-action-ref>
    <to-tree-id>/search-problem.jsp</to-tree-id>
  </navigation-case>
</navigation-rule>

</faces-config>
